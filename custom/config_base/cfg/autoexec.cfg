// Confidential Proposition's Autoexec Config
// https://steamcommunity.com/id/ConfidentialProposition/

alias empty "" // Create an empty alias, to "unbind" aliases.
alias drawline

exec user/_settings		  // Loads user settings
exec internal/_protection // Loads a tf2 protection script


// GRAPHICS CONFIG SWITCHER
// Switchs between max fps, balanced quality, or max quality.
alias maxframes       "exec internal/_maxframes"
alias balancedquality "exec internal/_balancedquality"
alias maxquality      "exec internal/_maxquality"
GRAPHICS_CONFIG_SWITCHER


// DEBUG CONSOLE OUTPUT
// Display output of user settings in the developer console.
alias hide_console_ouput "exec internal/_gfx;     exec internal/_network"
alias show_console_ouput "exec internal/dev/_gfx; exec internal/dev/_network"
DEBUG_CONSOLE_OUTPUT


// DEBUG CLOSED CAPTIONS OUTPUT
// Bind the debug output to a key.
alias hide_cc_output "closecaption 0; cc_subtitles 0; alias toggle_output show_output"
alias show_cc_output "closecaption 1; cc_subtitles 1; cc_lang tf2-scripts; cc_emit #DebugOutput.Show; alias toggle_output hide_output"
alias toggle_cc_output show_cc_output
bind P toggle_cc_output
DEBUG_CC_OUTPUT_ON_START


// AUTO CROUCH-JUMP
// Makes the player automatically crouch-jump when holding down the spacebar.
alias +crouch_jump "+jump; +duck"
alias -crouch_jump "-duck; -jump"
alias crouch_on    "bind SPACE +crouch_jump"
alias crouch_off   "bind SPACE +jump"
AUTO_CROUCH_JUMP


// CLEAR CONSOLE ON START
// Clears the console on startup, we don't care about anything that was displayed before.
alias clear_on  "clear"
alias clear_off ""
CLEAR_CONSOLE_ON_START


// CONSOLE FILTER
// Filters the console with Error messages.
alias confilter_on  "con_filter_enable 1; con_filter_text_out "Model""
alias confilter_off "con_filter_enable 0"
CONSOLE_FILTER


// LOADOUT SWITCH
// Alt+1 switches to loadout A, Alt+2 switches to loadout B and so on.
alias +switching_loadout "+loadout_A; +loadout_B; +loadout_C; +loadout_D"
alias -switching_loadout "-loadout_A; -loadout_B; -loadout_C; -loadout_D"
alias switch_loadout_A "load_itempreset 0; cc_emit #Loadout.A"
alias switch_loadout_B "load_itempreset 1; cc_emit #Loadout.B"
alias switch_loadout_C "load_itempreset 2; cc_emit #Loadout.C"
alias switch_loadout_D "load_itempreset 3; cc_emit #Loadout.D"
alias +loadout_A  "bind 1 switch_loadout_A"; alias -loadout_A "bind 1 key1"
alias +loadout_B  "bind 2 switch_loadout_B"; alias -loadout_B "bind 2 key2"
alias +loadout_C  "bind 3 switch_loadout_C"; alias -loadout_C "bind 3 key3"
alias +loadout_D  "bind 4 switch_loadout_D"; alias -loadout_D "bind 4 key4"
alias loadout_on  "bind ALT +switching_loadout"
alias loadout_off "bind ALT +strafe"
LOADOUT_SWITCH


// MUSIC PLAYER - CLASSES
// Plays the classes' music once.
alias demoman_music_on      "music_9;  alias demoman_music empty"
alias engineer_music_on     "music_10; alias engineer_music empty"
alias heavyweapons_music_on "music_2;  alias heavyweapons_music empty"
alias medic_music_on        "music_12; alias medic_music empty"
alias pyro_music_on         "music_14; alias pyro_music empty"
alias scout_music_on        "music_5;  alias scout_music empty"
alias sniper_music_on       "music_8;  alias sniper_music empty"
alias soldier_music_on      "music_4;  alias soldier_music empty"
alias spy_music_on          "music_7;  alias spy_music empty"
alias music_classes_on  "alias demoman_music demoman_music_on; alias engineer_music engineer_music_on; alias heavyweapons_music heavyweapons_music_on; alias medic_music medic_music_on; alias pyro_music pyro_music_on; alias scout_music scout_music_on; alias sniper_music sniper_music_on; alias soldier_music soldier_music_on; alias spy_music spy_music_on"
alias music_classes_off "alias demoman_music empty; alias engineer_music empty; alias heavyweapons_music empty; alias medic_music empty; alias pyro_music empty; alias scout_music empty; alias sniper_music empty; alias soldier_music empty; alias spy_music empty;"
MUSIC_PLAYER_CLASSES


// NETGRAPH
// Shows the netgraph when the user press Tab.
net_graphpos 2
alias +showscores_netgraph "+showscores; net_graph 4"
alias -showscores_netgraph "-showscores; net_graph 0"
alias netgraph_on  "bind TAB +showscores_netgraph"
alias netgraph_off "bind TAB +showscores"
SHOW_NETGRAPH


// NULL-CANCELLING
// By default, pressing opposite movement keys stops the movement. 
// This script changes the behavior so that the last pressed key takes effect.
alias +nc_forward "-back; +forward; alias check_forward +forward"
alias +nc_back    "-forward; +back; alias check_back +back"
alias +nc_left    "-moveright; +moveleft; alias check_left +moveleft"
alias +nc_right   "-moveleft; +moveright; alias check_right +moveright"
alias -nc_forward "-forward; check_back; alias check_forward empty"
alias -nc_back    "-back; check_forward; alias check_back empty"
alias -nc_left    "-moveleft; check_right; alias check_left empty"
alias -nc_right   "-moveright; check_left; alias check_right empty"
alias check_forward empty
alias check_back    empty
alias check_left    empty
alias check_right   empty
alias null_on  "bind W +nc_forward; bind S +nc_back; bind A +nc_left; bind D +nc_right"
alias null_off "bind W +forward; bind S +back; bind A +moveleft; bind D +moveright"
NULL_CANCELLING


// EXPLOSION SUICIDE
// Go out with a bang!
alias suicide_on     bind F11 explode
alias suicide_off "unbind F11"
SUICIDE_EXPLOSION


// VIEWMODEL TOGGLING
// Hides or shows the viewmodel.
alias viewmodel_on  "r_drawviewmodel 1; alias toggle_viewmodel viewmodel_off"
alias viewmodel_off "r_drawviewmodel 0; alias toggle_viewmodel viewmodel_on"
alias toggle_viewmodel viewmodel_off
bind DEL toggle_viewmodel


// ZOOM SCRIPT
// Changes the FOV to zoom in/zoom out when pressing F.
alias zoom_hide_on  "alias zoom_hide viewmodel_off"
alias zoom_hide_off "alias zoom_hide viewmodel_on"
alias zoom_in  "fov_desired 20; viewmodel_fov 20; viewmodel_fov_demo 20; ZOOM_IN_SENSITIVITY; zoom_hide; alias toggle_zoom zoom_out"
alias zoom_out "fov_desired 90; viewmodel_fov 54; viewmodel_fov_demo 54; ZOOM_OUT_SENSITIVITY; viewmodel_on; alias toggle_zoom zoom_in"
alias toggle_zoom zoom_in
bind F toggle_zoom
ZOOM_IN_HIDE_WEAPON


// WAIT TESTER
// Checks to see if the server has the wait command enabled.
alias wait_tester_on waitTester
alias wait_tester_off
alias waitTester   "alias waitTest waitPositive; wait; waitTest"
alias wait         "alias waitTest waitNegative"
alias waitPositive "echo Wait is >ENABLED< on this server.; cc_emit #Wait.ON"
alias waitNegative "echo Wait is >DISABLED< on this server.; cc_emit #Wait.Off"
WAIT_TESTER


// FUNCTION KEYS CLASS SWITCHER
// Uses F1 - F9 to quickly switch class.
alias scout        "join_class scout"
alias soldier      "join_class soldier"
alias pyro         "join_class pyro"
alias demoman      "join_class demoman"
alias heavyweapons "join_class heavyweapons"
alias engineer     "join_class engineer"
alias medic        "join_class medic"
alias sniper       "join_class sniper"
alias spy          "join_class spy"

alias f_keys_class_switcher_on f_keys_class_switcher
alias f_keys_class_switcher_off 
alias f_keys_class_switcher "bind F1 scout; bind F2 soldier; bind F3 pyro; bind F4 demoman; bind F5 heavyweapons; bind F6 engineer; bind F7 medic; bind F8 sniper; bind F9 spy"
FUNCTION_KEYS_CLASS_SWITCHER


// INDIVIDUAL CLASS VIEWMODEL SCRIPT
// Draws viewmodel based on the classes weapon.
alias weapon1   "slot1; r_drawviewmodel 1; alias next_weapon weapon2; alias prev_weapon weapon3; set_last; alias set_last alias last_weapon weapon1"
alias weapon2   "slot2; r_drawviewmodel 1; alias next_weapon weapon3; alias prev_weapon weapon1; set_last; alias set_last alias last_weapon weapon2"
alias weapon3   "slot3; r_drawviewmodel 1; alias next_weapon weapon1; alias prev_weapon weapon2; set_last; alias set_last alias last_weapon weapon3"
alias weapon4   "slot4"
alias weapon5   "slot5"
bind 1 			"weapon1"
bind 2 			"weapon2"
bind 3 			"weapon3"
bind 4 			"weapon4"
bind 5 			"weapon5"
bind Q 			"last_weapon"
bind MWHEELUP	"prev_weapon"
bind MWHEELDOWN "next_weapon"
// TODO: MAKE USER CONFIGURUABLE


// Class configuration files
alias scout_cfg    "exec class/scout.cfg"
alias soldier_cfg  "exec class/soldier.cfg"
alias pyro_cfg     "exec class/pyro.cfg"
alias demoman_cfg  "exec class/demoman.cfg"
alias heavy_cfg    "exec class/heavyweapons.cfg"
alias engineer_cfg "exec class/engineer.cfg"
alias medic_cfg    "exec class/medic.cfg"
alias sniper_cfg   "exec class/sniper.cfg"
alias spy_cfg      "exec class/spy.cfg"

exec autoexec2

echo
echo"    Confidential Proposition's Testing Config"
echo"    Release Date: 01 Sep 2021"
echo"    https://github.com/ConfidentialProposition/TF2-Config/tree/test"
echo

hud_reloadscheme
showconsole; alias showconsole ""